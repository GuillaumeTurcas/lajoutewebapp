{% extends "base.html" %}
{% block title%}Edit{% endblock %}
{% block body %}
<div class="row">
    <div class="col pt-3">
        <div class="card card-body">
            <h2>
                <center>Réglages</center>
            </h2>
        </div>
    </div>
</div>
<div class="row">
    <div class="col pt-3">
        <div class="card card-body">
            <center>
                <h3>Mettre à jour</h3>
            </center>
            <form action="{{url_for('viewSettings.updateAccount')}}" method="POST">
                <div class="form-group" data-children-count="1">
                    <label> École :</label>
                    <select class="form-control" name="ecole" required>
                        <option value="{{contact["ecole"]}}">{{contact["ecole"]}}</option>
                        {% for ecole in ecole %}
                        <option value="{{ecole}}">{{ecole}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group" data-children-count="1">
                    <label> Année :</label>
                    <select class="form-control" name="annee" required>
                        <option value="{{contact["annee"]}}">{{contact["annee"]}}</option>
                        {% for annee in annee %}
                        <option value="{{annee}}">{{annee}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group">
                    <label> Téléphone :</label>
                    <input type="tel" placeholder = "Téléphone (06 00 00 00 00)" name="phone" value="{{contact["phone"]}}" 
                                                                                              pattern="[0-9\s]{10,14}" class="form-control" required>
                </div>
                <div class="form-group">
                    <label> E-mail :</label>
                    <input type="email" placeholder = "E-mail" name="email" value="{{contact["email"]}}" 
                                                                            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" class="form-control" required>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">
                        Update
                    </button>
                </div>
            </form>
            <!--<form action=""><button class="btn btn-success btn-block">Jouons !</button></form>-->
        </div>
    </div>
</div>
<div class="row">
    <div class="col pt-3">
        <div class="card card-body">
            <form action="{{ url_for('viewSettings.setTheme')}}" method="POST">
                {% if session['theme'] == 'light' %}
                <button class="btn btn-info btn-block">Thème clair</button>
                {% endif %}
                {% if session['theme'] == 'dark' %}
                <button class="btn btn-warning btn-block">Thème sombre</button>
                {% endif %}
            </form>
        </div>
    </div>
</div>
<div class="row">
    <div class="col pt-3">
        <div class="card card-body">
            <center>
                <h3>Changer le mot de passe</h3>
            </center>
            <form action="{{ url_for('viewSettings.updatePassword')}}" method="post">
                <div class="form-group">
                    <label> Ancien mot de passe :</label>
                    <input type="password" name="password" placeholder="Mot de passe actuel" class="form-control" required>
                </div>
                <div class="form-group">
                    <label> Nouveau mot de passe :</label>
                    <input type="password" name="newpassword" placeholder="Nouveau mot de passe" class="form-control"
                                                                                                 title="Must contain at least one  number and one uppercase and lowercase letter, and at least 8 or more characters"
                                                                                                 required>
                </div>
                <div class="form-group">
                    <label> Confirmer le nouveau mot de passe :</label>
                    <input type="password" class="form-control" name="confirmpassword" placeholder="Confirmer le nouveau mot de passe" 
                                                                                       title="Doit contenir au moins 8 caractères dont au moins un chiffre, une lettre majuscule et une lettre minuscule."
                                                                                       required>
                </div>
                <div class="msg">{{ msg1 }}</div>
                <button class="btn btn-primary btn-block">Changer le Mot de passe</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}
